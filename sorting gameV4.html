<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🏀 Eco-Basketball Sorting Game! 🏀</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
            /* 天空渐变背景 */
            background: linear-gradient(to bottom, #4da6ff, #b3d9ff);
        }

        /* 白云设计（多层多层组合） */
        .cloud {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.85;
            filter: blur(10px);
            pointer-events: none;
            z-index: 1;
        }
        /* 云朵主体 */
        .cloud.main {
            width: 200px;
            height: 80px;
        }
        /* 云朵凸起部分 */
        .cloud.bump {
            width: 100px;
            height: 100px;
            top: -50px;
            left: 30px;
        }
        .cloud.bump2 {
            width: 120px;
            height: 120px;
            top: -60px;
            left: 90px;
        }
        /* 云朵容器（用于整体移动） */
        .cloud-container {
            position: absolute;
            animation: floatCloud 100s linear infinite;
        }

        /* 白云漂浮动画（全界面范围） */
        @keyframes floatCloud {
            0% { transform: translate(-100%, 0); }
            25% { transform: translate(calc(25vw - 100%), calc(10vh * var(--float-y, 1))); }
            50% { transform: translate(calc(50vw - 100%), 0); }
            75% { transform: translate(calc(75vw - 100%), calc(-10vh * var(--float-y, 1))); }
            100% { transform: translate(calc(100vw + 200px), 0); }
        }

        /* 彩色气球设计 */
        .balloon {
            position: absolute;
            pointer-events: none;
            z-index: 2;
            animation: riseBalloon 30s linear infinite;
        }
        /* 气球主体 */
        .balloon .body {
            width: 60px;
            height: 80px;
            border-radius: 50% 50% 40% 40%;
            position: relative;
        }
        /* 气球绳子 */
        .balloon .string {
            width: 2px;
            height: 40px;
            background: #8B4513;
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
        }

        /* 气球上升上升动画 */
        @keyframes riseBalloon {
            0% { transform: translate(0, calc(100vh + 100px)) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translate(calc(100vw * var(--drift-x, 0.5)), -100px) rotate(30deg); opacity: 0; }
        }

        /* 游戏标题样式 */
        h1 {
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-size: 3em;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
            z-index: 10;
            text-align: center;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .game-container {
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 2400px;
            height: 100%;
            min-height: 500px;
            position: relative;
            z-index: 5;
        }

        /* 左右区域样式 */
        .left-side, .right-side {
            width: 45%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .left-side h2, .right-side h2 {
            color: #FF4500;
            font-size: 2em;
            margin-bottom: 20px;
            z-index: 10;
            text-align: center;
        }

        .right-side h2 {
            color: #32CD32;
        }

        /* 篮球样式 */
        .basketball {
            width: 120px;
            height: 120px;
            margin: 20px auto;
            position: relative;
            cursor: grab;
            user-select: none;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border-radius: 50%;
            background: conic-gradient(from 0deg at 50% 50%, #FF8C00 0deg, #FF8C00 90deg, #FF4500 90deg, #FF4500 180deg, #8B0000 180deg, #8B0000 270deg, #FF4500 270deg, #FF4500 360deg);
            box-shadow: 
                0 6px 12px rgba(0,0,0,0.4),
                inset 0 2px 4px rgba(255,255,255,0.2),
                inset 0 -2px 4px rgba(0,0,0,0.2);
            border: 2px solid #FFD700;
        }

        .basketball::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, transparent 0%, #FFD700 50%, transparent 100%);
            border-radius: 3px;
            top: 40%;
            left: 0;
            transform: skew(-20deg);
            box-shadow: 0 2px 2px rgba(0,0,0,0.3);
            z-index: 1;
        }

        .basketball::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 100%;
            background: linear-gradient(0deg, transparent 0%, #FFD700 50%, transparent 100%);
            border-radius: 3px;
            left: 40%;
            top: 0;
            transform: skew(20deg);
            box-shadow: 2px 0 2px rgba(0,0,0,0.3);
            z-index: 1;
        }

        .basketball .word {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            font-size: 1.1em;
            text-align: center;
            line-height: 1.2;
            z-index: 3;
            pointer-events: none;
            color: #FFFF00;
            text-shadow: 
                0 0 5px currentColor,
                0 0 10px currentColor,
                0 0 15px #FFD700;
        }

        .basketball:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 
                0 8px 16px rgba(0,0,0,0.5),
                inset 0 2px 4px rgba(255,255,255,0.3),
                inset 0 -2px 4px rgba(0,0,0,0.3);
        }

        .basketball:active {
            cursor: grabbing;
            transform: scale(1.1) rotate(0deg);
        }

        /* 篮筐样式 */
        .hoop {
            width: 100px;
            height: 100px;
            border: 8px solid #FFD700;
            border-radius: 50%;
            position: relative;
            margin: 30px auto;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 5;
        }

        .hoop::before {
            content: attr(data-category);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            color: #FF1493;
            font-weight: bold;
            font-size: 1.1em;
            white-space: nowrap;
            z-index: 6;
        }

        .hoop:hover {
            transform: scale(1.05);
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* 分数样式 */
        .score {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #FFD700;
            font-size: 2em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 10;
        }

        .dropped {
            opacity: 0.5;
            pointer-events: none;
        }

        .success-animation {
            animation: successBounce 0.6s ease-in-out;
        }

        @keyframes successBounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.2) rotate(360deg); }
            100% { transform: scale(1); }
        }

        /* 胜利消息样式 */
        .win-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 255, 0, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            font-size: 2em;
            display: none;
            animation: confetti 1s infinite;
            z-index: 20;
            text-align: center;
        }

        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(-10px) rotate(360deg); }
        }

        /* 说明文本 */
        .instructions {
            color: #FFD700;
            text-align: center;
            margin-bottom: 20px;
            z-index: 10;
            font-size: 1.2em;
        }

        /* 触摸设备优化 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                overflow-y: auto;
            }

            h1 {
                font-size: 2em;
                margin-bottom: 5px;
            }

            .instructions {
                font-size: 1em;
                padding: 0 10px;
            }

            .game-container {
                flex-direction: column;
                height: auto;
            }

            .left-side, .right-side {
                width: 100%;
                margin-bottom: 20px;
            }

            .left-side h2, .right-side h2 {
                font-size: 1.5em;
                margin-bottom: 15px;
            }

            .basketball {
                width: 80px;
                height: 80px;
                margin: 10px auto;
            }

            .basketball .word {
                font-size: 0.8em;
            }

            .hoop {
                width: 80px;
                height: 80px;
                border-width: 6px;
                margin: 20px auto;
            }

            .hoop::before {
                font-size: 0.9em;
                bottom: -25px;
            }

            .score {
                font-size: 1.5em;
                top: 10px;
                right: 10px;
            }

            .win-message {
                font-size: 1.5em;
                padding: 15px;
                width: 80%;
                box-sizing: border-box;
            }

            /* 简化动画效果提高性能 */
            .cloud-container {
                animation-duration: 150s;
            }

            .balloon {
                animation-duration: 50s;
            }

            /* 调整云朵大小 */
            .cloud.main {
                width: 100px;
                height: 40px;
            }
            
            .cloud.bump {
                width: 50px;
                height: 50px;
                top: -25px;
                left: 15px;
            }
            
            .cloud.bump2 {
                width: 60px;
                height: 60px;
                top: -30px;
                left: 45px;
            }

            /* 调整气球大小 */
            .balloon .body {
                width: 30px;
                height: 40px;
            }
            
            .balloon .string {
                height: 20px;
                top: 40px;
            }
        }

        /* 平板设备优化 */
        @media (min-width: 769px) and (max-width: 1024px) {
            .basketball {
                width: 100px;
                height: 100px;
            }

            .basketball .word {
                font-size: 0.9em;
            }

            .hoop {
                width: 90px;
                height: 90px;
            }

            .hoop::before {
                font-size: 1em;
            }
        }

        /* 大屏幕优化 */
        @media (min-width: 1025px) {
            .basketball {
                width: 150px;
                height: 150px;
            }

            .basketball .word {
                font-size: 1.4em;
            }

            .hoop {
                width: 130px;
                height: 130px;
            }

            .hoop::before {
                font-size: 1.4em;
                bottom: -40px;
            }
        }
    </style>
</head>
<body>
    <!-- 增加数量的白云组（全界面分布） -->
    <div class="cloud-container" style="top: 8%; --float-y: 0.5; animation-duration: 90s;">
        <div class="cloud main"></div>
        <div class="cloud bump"></div>
        <div class="cloud bump2"></div>
    </div>
    <div class="cloud-container" style="top: 15%; --float-y: 1; animation-duration: 70s; animation-delay: 15s;">
        <div class="cloud main" style="width: 160px; height: 60px;"></div>
        <div class="cloud bump" style="width: 80px; height: 80px; left: 20px;"></div>
        <div class="cloud bump2" style="width: 90px; height: 90px; left: 70px;"></div>
    </div>
    <div class="cloud-container" style="top: 5%; --float-y: 1.2; animation-duration: 100s; animation-delay: 30s;">
        <div class="cloud main" style="width: 240px; height: 90px;"></div>
        <div class="cloud bump" style="width: 110px; height: 110px;"></div>
        <div class="cloud bump2" style="width: 130px; height: 130px;"></div>
    </div>
    <div class="cloud-container" style="top: 40%; --float-y: 0.8; animation-duration: 85s; animation-delay: 5s;">
        <div class="cloud main" style="width: 180px; height: 70px;"></div>
        <div class="cloud bump" style="width: 90px; height: 90px; left: 25px;"></div>
        <div class="cloud bump2" style="width: 100px; height: 100px; left: 80px;"></div>
    </div>
    <div class="cloud-container" style="top: 60%; --float-y: 1.5; animation-duration: 95s; animation-delay: 25s;">
        <div class="cloud main" style="width: 140px; height: 60px;"></div>
        <div class="cloud bump" style="width: 70px; height: 70px; left: 15px;"></div>
        <div class="cloud bump2" style="width: 80px; height: 80px; left: 60px;"></div>
    </div>
    <div class="cloud-container" style="top: 80%; --float-y: 0.7; animation-duration: 80s; animation-delay: 10s;">
        <div class="cloud main" style="width: 220px; height: 85px;"></div>
        <div class="cloud bump" style="width: 100px; height: 100px; left: 30px;"></div>
        <div class="cloud bump2" style="width: 110px; height: 110px; left: 90px;"></div>
    </div>
    <div class="cloud-container" style="top: 30%; --float-y: 1.1; animation-duration: 110s; animation-delay: 40s;">
        <div class="cloud main" style="width: 170px; height: 65px;"></div>
        <div class="cloud bump" style="width: 85px; height: 85px; left: 20px;"></div>
        <div class="cloud bump2" style="width: 95px; height: 95px; left: 75px;"></div>
    </div>

    <!-- 彩色气球组（从下往上升） -->
    <div class="balloon" style="left: 10%; --drift-x: 0.3; animation-duration: 40s;">
        <div class="body" style="background: #FF6B6B;"></div>
        <div class="string"></div>
    </div>
    <div class="balloon" style="left: 25%; --drift-x: 0.5; animation-duration: 35s; animation-delay: 5s;">
        <div class="body" style="background: #4ECDC4;"></div>
        <div class="string"></div>
    </div>
    <div class="balloon" style="left: 40%; --drift-x: 0.7; animation-duration: 45s; animation-delay: 10s;">
        <div class="body" style="background: #FFD166;"></div>
        <div class="string"></div>
    </div>
    <div class="balloon" style="left: 55%; --drift-x: 0.4; animation-duration: 38s; animation-delay: 3s;">
        <div class="body" style="background: #06D6A0;"></div>
        <div class="string"></div>
    </div>
    <div class="balloon" style="left: 70%; --drift-x: 0.6; animation-duration: 42s; animation-delay: 8s;">
        <div class="body" style="background: #118AB2;"></div>
        <div class="string"></div>
    </div>
    <div class="balloon" style="left: 85%; --drift-x: 0.5; animation-duration: 37s; animation-delay: 12s;">
        <div class="body" style="background: #EF476F;"></div>
        <div class="string"></div>
    </div>

    <h1>🏀 Eco-Basketball Sorting Game! 🌍</h1>
    <p class="instructions" style="font-weight: bold; font-size: 32px;">Drag the basketball to the correct recycling hoop to score! Tap the basketball to hear the pronunciation~ 🎤</p>
    
    <div class="game-container">
        <div class="left-side">
            <h2>🗑️ Waste to Sort</h2>
            <div class="basketball" draggable="true" data-word="plastic straw" data-sound="plastic straw" data-target="Refuse">
                <div class="word">plastic<br>straw</div>
            </div>
            <div class="basketball" draggable="true" data-word="black oil" data-sound="black oil" data-target="Reduce">
                <div class="word">black<br>oil</div>
            </div>
            <div class="basketball" draggable="true" data-word="fabric pieces" data-sound="fabric pieces" data-target="Reuse">
                <div class="word">fabric<br>pieces</div>
            </div>
            <div class="basketball" draggable="true" data-word="battery" data-sound="battery" data-target="Recycle">
                <div class="word">battery</div>
            </div>
            <div class="basketball" draggable="true" data-word="apple peel" data-sound="apple peel" data-target="Rot">
                <div class="word">apple<br>peel</div>
            </div>
        </div>

        <div class="right-side">
            <h2 style="color: rgb(204, 49, 139);">🎯 Recycling Hoops</h2>
            <div class="hoop" data-category="Refuse" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="hoop" data-category="Reduce" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="hoop" data-category="Reuse" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="hoop" data-category="Recycle" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="hoop" data-category="Rot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
    </div>

    <div class="score">Score: <span id="score">0</span> / 5 ⭐</div>

    <div class="win-message" id="winMessage">🎉 **Perfect Recycling! You're an Eco Hero!** 🏆</div>

    <script>
        let score = 0;
        const total = 5;
        let draggedElement = null;

        // 发音功能
        document.querySelectorAll('.basketball').forEach(ball => {
            ball.addEventListener('click', (e) => {
                if (e.target.closest('.basketball')) {
                    const utterance = new SpeechSynthesisUtterance(ball.dataset.sound);
                    utterance.lang = 'en-US';
                    utterance.rate = 0.8;
                    speechSynthesis.speak(utterance);
                    ball.style.animation = 'pulse 0.5s';
                    setTimeout(() => { ball.style.animation = ''; }, 500);
                }
            });
        });

        // 拖拽功能
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.outerHTML);
            ev.dataTransfer.setData("target", ev.target.dataset.target);
            draggedElement = ev.target;
            setTimeout(() => {
                if (draggedElement) {
                    draggedElement.style.opacity = '0.5';
                }
            }, 0);
        }

        document.querySelectorAll('.basketball').forEach(ball => {
            ball.addEventListener('dragstart', drag);
            ball.addEventListener('dragend', () => {
                if (draggedElement) {
                    draggedElement.style.opacity = '1';
                }
            });
        });

        function drop(ev) {
            ev.preventDefault();
            if (draggedElement) {
                draggedElement.style.opacity = '1';
            }
            
            const data = ev.dataTransfer.getData("text");
            const targetCategory = ev.dataTransfer.getData("target");
            const hoopCategory = ev.target.dataset.category;

            if (targetCategory === hoopCategory) {
                ev.target.appendChild(document.createRange().createContextualFragment(data));
                ev.target.firstChild.classList.add('dropped', 'success-animation');
                score++;
                document.getElementById('score').textContent = score;
                ev.target.style.borderColor = '#00FF00';
                setTimeout(() => { ev.target.style.borderColor = '#FFD700'; }, 500);

                // 移除原篮球元素
                if (draggedElement && draggedElement.parentNode) {
                    draggedElement.parentNode.removeChild(draggedElement);
                }

                if (score === total) {
                    document.getElementById('winMessage').style.display = 'block';
                    setTimeout(() => { location.reload(); }, 3000);
                }
            } else {
                ev.target.style.animation = 'shake 0.5s';
                setTimeout(() => { ev.target.style.animation = ''; }, 500);
            }
            
            draggedElement = null;
        }

        // 触摸设备支持
        let touchStartX, touchStartY, touchEndX, touchEndY;
        const minSwipeDistance = 30; // 最小滑动距离

        document.querySelectorAll('.basketball').forEach(ball => {
            ball.addEventListener('touchstart', handleTouchStart, false);
            ball.addEventListener('touchmove', handleTouchMove, false);
            ball.addEventListener('touchend', handleTouchEnd, false);
        });

        function handleTouchStart(e) {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
            draggedElement = this;
            e.preventDefault();
        }

        function handleTouchMove(e) {
            if (!draggedElement) return;
            
            const touchX = e.touches[0].clientX;
            const touchY = e.touches[0].clientY;
            
            // 计算偏移量
            const offsetX = touchX - touchStartX;
            const offsetY = touchY - touchStartY;
            
            // 移动元素
            draggedElement.style.position = 'absolute';
            draggedElement.style.zIndex = '100';
            draggedElement.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
            draggedElement.style.opacity = '0.8';
            
            e.preventDefault();
        }

        function handleTouchEnd(e) {
            if (!draggedElement) return;
            
            touchEndX = e.changedTouches[0].clientX;
            touchEndY = e.changedTouches[0].clientY;
            
            // 计算滑动距离
            const distanceX = touchEndX - touchStartX;
            const distanceY = touchEndY - touchStartY;
            const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);
            
            // 如果滑动距离足够，尝试放置
            if (distance > minSwipeDistance) {
                // 获取触摸位置的元素
                const touchElement = document.elementFromPoint(touchEndX, touchEndY);
                
                // 检查是否是篮筐
                if (touchElement && touchElement.classList.contains('hoop')) {
                    const targetCategory = draggedElement.dataset.target;
                    const hoopCategory = touchElement.dataset.category;
                    
                    if (targetCategory === hoopCategory) {
                        // 成功放置
                        touchElement.appendChild(draggedElement);
                        draggedElement.classList.add('dropped', 'success-animation');
                        draggedElement.style.position = '';
                        draggedElement.style.transform = '';
                        draggedElement.style.zIndex = '';
                        draggedElement.style.opacity = '0.5';
                        
                        score++;
                        document.getElementById('score').textContent = score;
                        touchElement.style.borderColor = '#00FF00';
                        setTimeout(() => { touchElement.style.borderColor = '#FFD700'; }, 500);
                        
                        if (score === total) {
                            document.getElementById('winMessage').style.display = 'block';
                            setTimeout(() => { location.reload(); }, 3000);
                        }
                    } else {
                        // 放置失败，返回原位
                        draggedElement.style.position = '';
                        draggedElement.style.transform = '';
                        draggedElement.style.zIndex = '';
                        draggedElement.style.opacity = '1';
                        
                        touchElement.style.animation = 'shake 0.5s';
                        setTimeout(() => { touchElement.style.animation = ''; }, 500);
                    }
                } else {
                    // 没有放置到篮筐，返回原位
                    draggedElement.style.position = '';
                    draggedElement.style.transform = '';
                    draggedElement.style.zIndex = '';
                    draggedElement.style.opacity = '1';
                }
            } else {
                // 滑动距离不足，视为点击
                draggedElement.style.position = '';
                draggedElement.style.transform = '';
                draggedElement.style.zIndex = '';
                draggedElement.style.opacity = '1';
                
                // 触发点击事件（发音）
                const utterance = new SpeechSynthesisUtterance(draggedElement.dataset.sound);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
                draggedElement.style.animation = 'pulse 0.5s';
                setTimeout(() => { draggedElement.style.animation = ''; }, 500);
            }
            
            draggedElement = null;
            e.preventDefault();
        }
    </script>


</body></html>